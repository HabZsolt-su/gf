<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Our Love Story ‚ù§Ô∏è</title>
  <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&display=swap" rel="stylesheet" />
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="font-[Comic_Neue] bg-pink-50">

  <!-- LOGIN -->
  <div id="accessGate" class="fixed inset-0 bg-pink-300/90 backdrop-blur-sm z-50 flex items-center justify-center">
    <div class="bg-white p-8 rounded-2xl shadow-xl text-center max-w-md mx-4">
      <h2 class="text-3xl font-bold text-pink-600 mb-4">Enter Our Anniversary Date</h2>
      <p class="text-gray-700 mb-6">Type in our special date (YYYY MM DD)</p>
      <input id="dateInput" type="text"
        class="border-2 border-pink-300 rounded-full px-4 py-2 w-full mb-4 text-center text-xl font-bold focus:outline-none focus:ring-2 focus:ring-pink-400"
        placeholder="YYYY MM DD" maxlength="10"
        oninput="formatDateInput(this)" onkeydown="return dateInputKeydown(event)" />
      <button onclick="checkDate()"
        class="font-bold py-3 px-6 rounded-full text-lg shadow-md transition-all"
        style="background-color:#ec4899;color:white;">
        Enter Our Special Day ‚ù§Ô∏è
      </button>
    </div>
  </div>

  <!-- QUESTION -->
  <div id="miniGameModal"
       class="fixed inset-0 bg-pink-300/90 backdrop-blur-sm z-[100] hidden flex items-center justify-center">
    <div id="questionBox"
         class="relative bg-white p-8 rounded-2xl shadow-xl text-center max-w-md mx-4"
         style="z-index:200;overflow:visible;">
      <h2 class="text-3xl font-bold text-pink-600 mb-4">A Little Game First üòò</h2>
      <p class="text-gray-700 mb-8">Do you want to play a cute little game with me?</p>

      <div class="relative flex justify-center gap-6">
        <button id="yesPlay"
          class="font-bold py-2 px-6 rounded-full shadow-md"
          style="background-color:#ec4899;color:white;z-index:300;left: 20px;">
          Yes üíñ
        </button>

        <button id="noPlay"
          class="font-bold py-2 px-6 rounded-full shadow-md absolute"
          style="background-color:#d1d5db;color:#111;left:70%;top:50%;transform:translateY(-50%);z-index:9999;opacity:1;">
          No üòÖ
        </button>
      </div>
    </div>
  </div>

  <!-- MAZE -->
  <div id="mazeGame" class="fixed inset-0 bg-purple-100 z-50 hidden flex flex-col items-center justify-center">
    <canvas id="mazeCanvas" width="400" height="400"
            class="border-4 border-pink-400 rounded-2xl shadow-lg"></canvas>

    <!-- Mobile Controls -->
    <div id="mazeControls" class="mt-6 grid grid-cols-3 gap-3 md:hidden">
      <div></div>
      <button class="bg-pink-400 text-white rounded-full p-4 shadow-md text-2xl font-bold" data-dir="up">‚¨ÜÔ∏è</button>
      <div></div>
      <button class="bg-pink-400 text-white rounded-full p-4 shadow-md text-2xl font-bold" data-dir="left">‚¨ÖÔ∏è</button>
      <div></div>
      <button class="bg-pink-400 text-white rounded-full p-4 shadow-md text-2xl font-bold" data-dir="right">‚û°Ô∏è</button>
      <div></div>
      <button class="bg-pink-400 text-white rounded-full p-4 shadow-md text-2xl font-bold" data-dir="down">‚¨áÔ∏è</button>
      <div></div>
    </div>
  </div>

  <!-- MAIN PAGE -->
  <div id="mainContent" class="container mx-auto px-4 py-8 max-w-4xl hidden">
    <header class="text-center mb-12">
      <h1 class="text-5xl font-bold text-pink-600 mb-4">Happy Anniversary Lia! ‚ù§Ô∏è</h1>
      <div class="animate-bounce text-4xl">üéÄ</div>
    </header>

    <div class="bg-purple-100 p-6 rounded-2xl shadow-md mb-12 border-4 border-dotted border-pink-300">
      <h2 class="text-3xl font-bold text-pink-500 mb-4">To My Beautiful Lia</h2>
      <p class="text-lg text-gray-800 mb-4">
        Every moment with you is like a page from the sweetest storybook. You make my life colorful and full of love.
      </p>
      <div class="flex justify-center text-4xl">üå∏ ‚ú® üíñ</div>
    </div>

    <!-- Memories -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-12">
      <div class="bg-yellow-100 p-4 rounded-xl shadow-md border-4 border-dashed border-pink-200">
        <div class="h-64 bg-purple-200 rounded-lg mb-3 overflow-hidden">
          <img src="firstdate.JPEG" class="w-full h-full object-cover" />
        </div>
        <h3 class="text-xl font-bold text-pink-500 mb-2">Our First Date</h3>
        <p class="text-gray-700">Remember when we went to P√©cs for our "first" date and got the tradition of the Flying Tiger.</p>
      </div>
      <div class="bg-pink-100 p-4 rounded-xl shadow-md border-4 border-dashed border-purple-200">
        <div class="h-64 bg-yellow-200 rounded-lg mb-3 overflow-hidden">
          <img src="firstVac.JPEG" class="w-full h-full object-cover" />
        </div>
        <h3 class="text-xl font-bold text-purple-500 mb-2">Our First Trip</h3>
        <p class="text-gray-700">We had so much fun when we decided to go stargazing and didn‚Äôt see any, so we played a game so none of us fell asleep.</p>
      </div>
      <div class="bg-purple-100 p-4 rounded-xl shadow-md border-4 border-dashed border-yellow-200">
        <div class="h-64 bg-pink-200 rounded-lg mb-3 overflow-hidden">
          <img src="myfav.JPEG" class="w-full h-full object-cover" />
        </div>
        <h3 class="text-xl font-bold text-yellow-500 mb-2">My Favorite Picture Of Us</h3>
        <p class="text-gray-700">I'll never forget ‚Äî this was the first time you met my grandmother.</p>
      </div>
      <div class="bg-yellow-100 p-4 rounded-xl shadow-md border-4 border-dashed border-pink-200">
        <div class="h-64 bg-purple-200 rounded-lg mb-3 overflow-hidden">
          <img src="Batman.JPEG" class="w-full h-full object-cover" />
        </div>
        <h3 class="text-xl font-bold text-pink-500 mb-2">The Impostor</h3>
        <p class="text-gray-700">You and Me and My Impostor üíû</p>
      </div>
    </div>

    <!-- Counter -->
    <div class="bg-pink-200 p-6 rounded-2xl text-center shadow-md mb-12 border-4 border-dotted border-purple-300">
      <h2 class="text-3xl font-bold text-purple-600 mb-4">Our Love Timeline</h2>
      <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
        <div class="bg-white p-4 rounded-xl shadow-inner">
          <div id="daysCounter" class="text-4xl font-bold text-pink-500">0</div>
          <div class="text-sm">Days</div>
        </div>
        <div class="bg-white p-4 rounded-xl shadow-inner">
          <div id="hoursCounter" class="text-4xl font-bold text-purple-500">0</div>
          <div class="text-sm">Hours</div>
        </div>
        <div class="bg-white p-4 rounded-xl shadow-inner">
          <div id="minutesCounter" class="text-4xl font-bold text-yellow-500">0</div>
          <div class="text-sm">Minutes</div>
        </div>
        <div class="bg-white p-4 rounded-xl shadow-inner">
          <div id="secondsCounter" class="text-4xl font-bold text-pink-500">0</div>
          <div class="text-sm">Seconds</div>
        </div>
      </div>
      <p class="mt-4 text-pink-600 font-medium">Since November 19, 2024 ‚ù§Ô∏è</p>
      <p class="text-purple-500 text-lg mt-2">To Infinity and Beyond! ‚ú®</p>
    </div>

    <footer class="text-center py-6">
      <div class="text-4xl mb-4">üíñ üéÄ üå∏</div>
      <p class="text-pink-600 font-bold">Made with love for the most amazing girlfriend in the world!</p>
      <p class="text-purple-500 mt-4 text-lg">‚ù§Ô∏è Forever and Always ‚ù§Ô∏è</p>
    </footer>
  </div>

  <script>
function dateInputKeydown(e){
  if([46,8,9,27,13].includes(e.keyCode))return;
  if((e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105))e.preventDefault();
}

function formatDateInput(i){
  let v=i.value.replace(/\D/g,"").substring(0,8);
  if(v.length>4)v=v.substring(0,4)+" "+v.substring(4);
  if(v.length>7)v=v.substring(0,7)+" "+v.substring(7);
  i.value=v;
}

document.addEventListener("DOMContentLoaded",()=>{
  const yesBtn=document.getElementById("yesPlay");
  const noBtn=document.getElementById("noPlay");
  const box=document.getElementById("questionBox");
  let noButtonActivated=false;
  let canJump=true;

  window.checkDate=function(){
    const v=document.getElementById("dateInput").value.trim();
    if(v==="2024 11 19"){
      document.getElementById("accessGate").classList.add("hidden");
      document.getElementById("miniGameModal").classList.remove("hidden");
    }else alert("Oops! That‚Äôs not our special date üíï");
  };

  noBtn.addEventListener("click",()=>{
    if(!noButtonActivated){
      noButtonActivated=true;
      jumpFar();
    }
  });

  box.addEventListener("mousemove",e=>{
    if(!noButtonActivated || !canJump) return;
    const r=noBtn.getBoundingClientRect();
    const dist=Math.hypot(e.clientX-(r.left+r.width/2),e.clientY-(r.top+r.height/2));
    if(dist<100){
      canJump=false;
      jumpFar();
      setTimeout(()=>canJump=true,400);
    }
  });

  function jumpFar(){
    const b=box.getBoundingClientRect();
    const r=noBtn.getBoundingClientRect();
    const jumpFactor=3;
    const L=Math.random()*(b.width*jumpFactor - r.width);
    const T=Math.random()*(b.height*jumpFactor - r.height);
    Object.assign(noBtn.style,{
      left:Math.min(Math.max(L,0),b.width - r.width)+"px",
      top:Math.min(Math.max(T,0),b.height - r.height)+"px",
      transition:"left 0.25s, top 0.25s",
      zIndex:9999,
      opacity:1
    });
  }

  yesBtn.addEventListener("click",()=>{
    document.getElementById("miniGameModal").classList.add("hidden");
    document.getElementById("mazeGame").classList.remove("hidden");
    initMaze();
  });

  function initMaze(){
    const c=document.getElementById("mazeCanvas");
    const ctx=c.getContext("2d");
    const p={x:10,y:10,size:20},goal={x:370,y:370,size:20};
    const walls=[
      [0,0,400,10],[0,0,10,400],[390,0,10,400],[0,390,400,10],
      [40,50,60,10],[120,50,100,10],[260,50,100,10],
      [10,110,130,10],[180,110,70,10],[280,110,80,10],
      [60,170,130,10],[240,170,60,10],[320,170,70,10],
      [20,230,70,10],[120,230,100,10],[250,230,60,10],
      [330,230,60,10],[10,290,100,10],[150,290,60,10],
      [240,290,80,10],[330,350,60,10],
      [60,10,10,40],[140,10,10,50],[220,10,10,100],[300,10,10,50],
      [360,10,10,50],[100,60,10,30],[180,60,10,50],
      [260,60,10,100],[340,60,10,50],[60,120,10,60],[140,100,10,60],
      [220,120,10,60],[300,120,10,60],[100,180,10,60],[180,180,10,60],
      [260,180,10,60],[340,180,10,60],[60,240,10,60],[140,220,10,60],
      [210,240,10,60],[300,240,10,60],[100,300,10,60],[180,300,10,60],
      [260,300,10,60],[340,300,10,60]
    ];

    function draw(){
      ctx.fillStyle="#E6E6FA";ctx.fillRect(0,0,400,400);
      ctx.fillStyle="#333";walls.forEach(([x,y,w,h])=>ctx.fillRect(x,y,w,h));
      ctx.fillStyle="#32CD32";ctx.fillRect(goal.x,goal.y,goal.size,goal.size);
      ctx.fillStyle="#FF1493";ctx.fillRect(p.x,p.y,p.size,p.size);
    }

    function coll(nx,ny){
      return walls.some(([x,y,w,h])=>nx<x+w&&nx+p.size>x&&ny<y+h&&ny+p.size>y);
    }

    function move(dir){
      let nx=p.x,ny=p.y,st=10;
      if(dir==="up")ny-=st;
      if(dir==="down")ny+=st;
      if(dir==="left")nx-=st;
      if(dir==="right")nx+=st;
      if(!coll(nx,ny)){p.x=nx;p.y=ny;}
      draw();
      if(p.x>360&&p.y>360){
        document.removeEventListener("keydown",key);
        document.getElementById("mazeGame").classList.add("hidden");
        document.getElementById("mainContent").classList.remove("hidden");
        confetti();song();setInterval(time,1000);
      }
    }

    function key(e){
      if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(e.key)){
        move(e.key.replace("Arrow","").toLowerCase());
      }
    }

    document.querySelectorAll("#mazeControls button").forEach(btn=>{
      btn.addEventListener("click",()=>move(btn.dataset.dir));
    });

    document.addEventListener("keydown",key);
    draw();
  }

  function confetti(){
    const colors=["#FFB6C1","#E6E6FA","#FFFACD","#FFD700","#87CEFA"];
    for(let i=0;i<80;i++){
      const d=document.createElement("div");
      Object.assign(d.style,{
        position:"fixed",width:"10px",height:"10px",borderRadius:"50%",
        background:colors[Math.floor(Math.random()*colors.length)],
        left:Math.random()*100+"vw",top:"-10px",zIndex:"9999"
      });
      document.body.appendChild(d);
      const f=d.animate([{top:"-10px"},{top:"100vh"}],
        {duration:3000+Math.random()*2000});
      f.onfinish=()=>d.remove();
    }
  }

  function song(){
    const a=new Audio("music.mp3"); // replace with your file
    a.loop=true;a.volume=0.3;
    document.addEventListener("click",()=>a.play(),{once:true});
  }

  function time(){
    const s=new Date("2024-11-19T00:00:00"),n=new Date(),d=n-s;
    document.getElementById("daysCounter").textContent=Math.floor(d/(1000*60*60*24));
    document.getElementById("hoursCounter").textContent=Math.floor(d/(1000*60*60))%24;
    document.getElementById("minutesCounter").textContent=Math.floor(d/(1000*60))%60;
    document.getElementById("secondsCounter").textContent=Math.floor(d/1000)%60;
  }
});
  </script>
</body>
</html>
